// @flow

import React from 'react';
import PropTypes from 'prop-types';

import { pure, compose } from 'recompose';
import { Link, withRouter } from 'react-router-dom';

import type { Location } from 'lib/reactRouterUtils';
import { from } from 'lib/reactRouterUtils';

type Props = {
  className: string,
  location: Location,
}

export const BackButton = (props: Props) => {
  const { className, location, ...rest } = props;

  const to = from(location)

  return (
    <Button as={Link} to={to(location.state.from)} {...rest} />
  );
}

BackButton.propTypes = {
  className: PropTypes.string,
  location: PropTypes.Object,
}

export default compose(
  withRouter,
  pure
)(BackButton);

